!function(t,i,e){var s,n=i.event;n.special.smartresize={setup:function(){i(this).bind("resize",n.special.smartresize.handler)},teardown:function(){i(this).unbind("resize",n.special.smartresize.handler)},handler:function(t,i){var e=this,n=arguments;t.type="smartresize",s&&clearTimeout(s),s=setTimeout(function(){jQuery.event.handle.apply(e,n)},"execAsap"===i?0:100)}},i.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},i.Accordion=function(t,e){this.$el=i(e),this.$items=this.$el.children("ul").children("li.st-content-wrapper"),this.itemsCount=this.$items.length,this._init(t)},i.Accordion.defaults={open:-1,oneOpenedItem:!1,speed:600,easing:"easeInOutExpo",scrollSpeed:900,scrollEasing:"easeInOutExpo"},i.Accordion.prototype={_init:function(t){this.options=i.extend(!0,{},i.Accordion.defaults,t),this._validate(),this.current=this.options.open,this.$items.find("div.st-content").hide(),this._saveDimValues(),-1!=this.current&&this._toggleItem(this.$items.eq(this.current)),this._initEvents()},_saveDimValues:function(){scrollOffset=this.options.scrollOffset,this.$items.each(function(){var t=i(this);t.data({originalHeight:t.find("a:first").height(),offsetTop:t.offset().top-scrollOffset})})},_validate:function(){(this.options.open<-1||this.options.open>this.itemsCount-1)&&(this.options.open=-1)},_initEvents:function(){var e=this;this.$items.find("a:first").bind("click.slideaccordion",function(t){var s=i(this).parent();return e.options.oneOpenedItem&&e._isOpened()&&e.current!==s.index()&&e._toggleItem(e.$items.eq(e.current)),e._toggleItem(s),!1}),i(t).bind("smartresize.slideaccordion",function(t){e._saveDimValues(),e.$el.find("li.st-open").each(function(){var t=i(this);t.css("height",t.data("originalHeight")+t.find("div.st-content").outerHeight(!0))}),e._isOpened()&&e._scroll()})},_isOpened:function(){return this.$el.find("li.st-open").length>0},_toggleItem:function(t){var i=t.find("div.st-content");t.hasClass("st-open")?(this.current=-1,i.stop(!0,!0).fadeOut(this.options.speed),t.removeClass("st-open").stop().animate({height:t.data("originalHeight")},this.options.speed,this.options.easing)):(this.current=t.index(),i.stop(!0,!0).fadeIn(this.options.speed),t.addClass("st-open").stop().animate({height:t.data("originalHeight")+i.outerHeight(!0)},this.options.speed,this.options.easing),this._scroll(this))},_scroll:function(t){var e;e=-1!==(t=t||this).current?t.current:t.$el.find("li.st-open:last").index(),i("html, body").stop().animate({scrollTop:t.options.oneOpenedItem?t.$items.eq(e).data("offsetTop"):t.$items.eq(e).offset().top},t.options.scrollSpeed,t.options.scrollEasing)}};var o=function(t){this.console&&console.error(t)};i.fn.slideaccordion=function(t){if("string"==typeof t){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var s=i.data(this,"slideaccordion");s?i.isFunction(s[t])&&"_"!==t.charAt(0)?s[t].apply(s,e):o("no such method '"+t+"' for slideaccordion instance"):o("cannot call methods on slideaccordion prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i.data(this,"slideaccordion")||i.data(this,"slideaccordion",new i.Accordion(t,this))});return this}}(window,jQuery);